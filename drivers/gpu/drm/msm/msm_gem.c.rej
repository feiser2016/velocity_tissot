--- drivers/gpu/drm/msm/msm_gem.c
+++ drivers/gpu/drm/msm/msm_gem.c
@@ -83,17 +83,14 @@ static struct page **get_pages(struct drm_gem_object *obj)
 			return p;
 		}
 
-		msm_obj->pages = p;
-
 		msm_obj->sgt = drm_prime_pages_to_sg(p, npages);
 		if (IS_ERR(msm_obj->sgt)) {
-			void *ptr = ERR_CAST(msm_obj->sgt);
-
 			dev_err(dev->dev, "failed to allocate sgt\n");
-			msm_obj->sgt = NULL;
-			return ptr;
+			return ERR_CAST(msm_obj->sgt);
 		}
 
+		msm_obj->pages = p;
+
 		/* For non-cached buffers, ensure the new pages are clean
 		 * because display controller, GPU, etc. are not coherent:
 		 */
@@ -116,10 +113,7 @@ static void put_pages(struct drm_gem_object *obj)
 		if (msm_obj->flags & (MSM_BO_WC|MSM_BO_UNCACHED))
 			dma_unmap_sg(obj->dev->dev, msm_obj->sgt->sgl,
 					msm_obj->sgt->nents, DMA_BIDIRECTIONAL);
-
-		if (msm_obj->sgt)
-			sg_free_table(msm_obj->sgt);
-
+		sg_free_table(msm_obj->sgt);
 		kfree(msm_obj->sgt);
 
 		if (iommu_present(&platform_bus_type))
