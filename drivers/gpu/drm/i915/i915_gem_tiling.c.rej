--- drivers/gpu/drm/i915/i915_gem_tiling.c
+++ drivers/gpu/drm/i915/i915_gem_tiling.c
@@ -315,10 +315,9 @@ i915_gem_set_tiling(struct drm_device *dev, void *data,
 		return -EINVAL;
 	}
 
-	mutex_lock(&dev->struct_mutex);
 	if (i915_gem_obj_is_pinned(obj) || obj->framebuffer_references) {
-		ret = -EBUSY;
-		goto err;
+		drm_gem_object_unreference_unlocked(&obj->base);
+		return -EBUSY;
 	}
 
 	if (args->tiling_mode == I915_TILING_NONE) {
