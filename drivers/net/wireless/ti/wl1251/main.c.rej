--- drivers/net/wireless/ti/wl1251/main.c
+++ drivers/net/wireless/ti/wl1251/main.c
@@ -1200,7 +1200,8 @@ static void wl1251_op_bss_info_changed(struct ieee80211_hw *hw,
 		WARN_ON(wl->bss_type != BSS_TYPE_STA_BSS);
 
 		enable = bss_conf->arp_addr_cnt == 1 && bss_conf->assoc;
-		ret = wl1251_acx_arp_ip_filter(wl, enable, addr);
+		wl1251_acx_arp_ip_filter(wl, enable, addr);
+
 		if (ret < 0)
 			goto out_sleep;
 	}
@@ -1571,7 +1572,6 @@ struct ieee80211_hw *wl1251_alloc_hw(void)
 
 	wl->state = WL1251_STATE_OFF;
 	mutex_init(&wl->mutex);
-	spin_lock_init(&wl->wl_lock);
 
 	wl->tx_mgmt_frm_rate = DEFAULT_HW_GEN_TX_RATE;
 	wl->tx_mgmt_frm_mod = DEFAULT_HW_GEN_MODULATION_TYPE;
