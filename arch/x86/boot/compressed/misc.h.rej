--- arch/x86/boot/compressed/misc.h
+++ arch/x86/boot/compressed/misc.h
@@ -2,13 +2,14 @@
 #define BOOT_COMPRESSED_MISC_H
 
 /*
- * Special hack: we have to be careful, because no indirections are allowed here,
- * and paravirt_ops is a kind of one. As it will only run in baremetal anyway,
- * we just keep it from happening. (This list needs to be extended when new
- * paravirt and debugging variants are added.)
+ * we have to be careful, because no indirections are allowed here, and
+ * paravirt_ops is a kind of one. As it will only run in baremetal anyway,
+ * we just keep it from happening
  */
 #undef CONFIG_PARAVIRT
-#undef CONFIG_PARAVIRT_SPINLOCKS
+#ifdef CONFIG_X86_32
+#define _ASM_X86_DESC_H 1
+#endif
 
 #include <linux/linkage.h>
 #include <linux/screen_info.h>
