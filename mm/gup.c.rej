--- mm/gup.c
+++ mm/gup.c
@@ -324,7 +328,7 @@ static int faultin_page(struct task_struct *tsk, struct vm_area_struct *vma,
 	 * reCOWed by userspace write).
 	 */
 	if ((ret & VM_FAULT_WRITE) && !(vma->vm_flags & VM_WRITE))
-	        *flags |= FOLL_COW;
+		*flags &= ~FOLL_WRITE;
 	return 0;
 }
 
